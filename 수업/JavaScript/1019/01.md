# JavaScript

## Intro 

- Web 기술의 기반이 되는 언어
  - HTML 문서의 컨텐츠를 동적으로 변경할 수 있는 언어
  - Web이라는 공간에서 채팅, 게임 등 다양한 동작을 할 수 있게 된 기반
- 다양한 분야로 확장 가능
  - 단순히 Web 조작을 넘어서 서버 프로그래밍, 모바일 서비스, 컴퓨터 응용프로그래밍, 블록체인, 게임 개발 등 다양한 분야에서 활용이 가능한 언어



## 기초 문법

### 코드 작성법

- 세미콜론
  - 자바스크립트는 세미콜론을 선택적으로 사용할 수 있다.
  - 없으면 ASI(Automatic Semicolon Insertion, 자동 세미콜론 삽입 규칙)에 따라 자동으로 세미콜론이 삽입된다.
- 들여쓰기와 코드 블럭
  - python은 4칸 들여쓰기를 사용했으나, JavaScript는 2칸 들여쓰기를 사용
  - 블럭(block)은 if, for, 함수에서 중괄호 `{ }`내부를 말한다.
    - python은 들여쓰기를 이용하여 코드 블럭을 구분하는 반면, JavaScript는 중괄호를 사용해 코드 블럭 구분
- 코드 스타일 가이드
  - PEP8처럼 JavaScript에도 코드 스타일 가이드가 존재한다.
  - 다만, 여러 코드 스타일 가이드가 회사마다 존재하는데, Airbnb Style Guide를 많이 따른다.

- 주석
  - 한 줄 주석 `//`, 여러 줄 `/* */` 주석

### 변수와 식별자

- 식별자 정의와 특징

  - 식별자(identifier)는 변수를 구분할 수 있는 변수명을 의미한다.
  - 반드시 문자, 달러($) 또는 밑줄(_)로 시작한다.
  - 대소문자를 구분하며, 클래스명 외에는 모두 소문자로 시작한다.
  - 파이썬처럼, 예약어 사용은 불가능하다.

  1. 카멜 케이스(camelCase, lower-camel-case): 변수, 객체, 함수에 사용
  2. 파스칼 케이스(PascalCase, upper-camel-case): 클래스, 생성자에 사용
  3. 대문자 스네이크 케이스: 상수(constants)에 사용

- 변수 선언 키워드

  - Python과 다르게 JavaScript는 변수를 선언하는 키워드가 정해져 있다.
  - let: 블록 스코프 지역 변수를 선언(추가로 동시에 값을 초기화)
  - const: 블록 스코프 읽기 전용 상수를 선언(추가로 동시에 값을 초기화)
  - var: 변수를 선언(추가로 동시에 값을 초기화)

- 선언, 할당, 초기화

  - 선언: 변수를 생성하는 행위 또는 시점
  - 할당: 선언된 변수에 값을 저장하는 행위 또는 시점
  - 초기화: 선언된 변수에 처음으로 값을 저장하는 행위 또는 시점

- 블록 스코프

  - if, for, 함수 등의 중괄호 내부를 가리킨다.
  - 블록 스코프를 가지는 변수는 블록 바깥에서 접근 불가능하다.

- 변수 선언 키워드

  - let

    - 재할당 가능 & 재선언 불가능
    - 블록 스코프를 갖는 지역 변수를 선언하고, 선언과 동시에 원하는 값으로 초기화 할 수 있다.

  - const

    - 재할당 불가능 & 재선언 불가능
    - 선언 시 반드시 초깃값을 설정해야 하며, 이후 값 변경이 불가능하다.
    - let과 동일하게 블럭 스코프를 가진다.

  - var

    - 재할당 가능 & 재선언 가능

    - ES6 이전에 변수를 선언할 때 사용되던 키워드

    - 호이스팅 되는 특성으로 인해 예기치 못한 문제 발생 가능

      - ES6 이후부터는 var 대신 const와 let을 사용하는 것 권장

    - 호이스팅: 변수를 선언 이전에 참조할 수 있는 현상

      - 변수 선언 이전의 위치에서 접근 시 undefined를 반환한다.
      - JavaScript에서 변수들은 실제 실행 시에 코드의 최상단으로 끌어 올려지게 되며 이러한 이유 때문에 var로 선언된 변수는 선언 시에 undefined로 값이 초기화되는 과정이 동시에 일어난다.
      - 반면 let, const는 호이스팅이 일어나면 에러를 발생시킨다.

    - 함수 스코프(function scope)를 가진다.

      > 함수의 중괄호 내부를 가리킨다.
      >
      > 함수 스코프를 가지는 변수는 함수 바깥에서 접근 불가능하다.

  - 변수 선언 시 var, const, let 키워드 중 하나를 사용하지 않으면 자동으로 var로 선언된다.

  - 정리

    - 어디에 변수를 쓰고 상수를 쓸지 결정하는 것은 프로그래머의 몫이지만
    - Airbnb 스타일 가이드에서는 기본적으로 const 사용을 권장한다.
      - 재할당이 꼭 필요한 경우에만 let을 사용한다.

### 데이터 타입

- 개요
  - JavaScript의 모든 값은 특정한 데이터 타입을 가진다.
  - 크게 원시 타입(Primitive type), 참조 타입(Reference type)으로 분류된다.
- Number
  - 정수 or 실수형 숫자를 표현하는 자료형
  - NaN
    - Not-A-Number(숫자가 아님)를 나타낸다.
    - Number.isNaN()의 경우 주어진 값이 유형이 Number이고 값이 NaN이면 true, 아니면 false를 반환
- String
  - 문자열, 작은 따음표 / 큰 따옴표 모두 사용 가능
  - 덧셈을 통해 문자열을 붙일 수 있다(뺄셈, 곱셉, 나눗셈 불가능).
  - Quote를 사용하면 선언 시 줄 바꿈이 안된다. 따라서 escape sequence를 사용(\n)
  - Template Literal 사용 시 줄바꿈이 되고, 문자열 사이에 변수도 삽입할 수 있다 == Python f-string과 같은 기능
- Template literals (템플릿 리터럴)
  - 내장된 표현식을 허용하는 문자열 작성 방식
  - ES6+부터 지원
  - Backtick(``)을 이용하며, 여러 줄에 걸쳐 문자열을 정의할 수도 있고 JavaScript의 변수를 문자열 안에 바로 연결할 수 있는 이점이 생긴다.
  - 표현식을 넣을 수 있는데, $ 와 중괄호 ( $ {expression} )로 표기
- Empty Value
  - 값이 존재하지 않음을 표현하는 값으로 JavaScript에서는 null과 undefined가 존재
  - 동일한 역할을 하는 이 두 개의 키워드가 존재하는 이유는 단순한 JavaScript의 설계 실수
  - 큰 차이를 두지 말고 interchangeable 하게 사용할 수 있도록 권장
- null
  - 변수의 값이 없음을 의도적으로 표현할 때 사용
  - 원시 타입임에도 불구하고 typeof 연산자를 사용하면 object로 출력된다.
    - 설계 당시의 버그를 지금까지 해결 못한 것
    - 이미 null 타입에 의존하는 많은 프로그램들이 망가질 수 있으므로, 쉽게 해결할 수 없다.
- undefined
  - 값이 정의되어 있지 않음을 표현하는 값
  - 변수 선언 이후 직접 값을 할당하지 않으면 자동으로 할당된다.
- Boolean
  - true, false
    - 조건문 또는 반복문에서 boolean이 아닌 데이터 타입은 자동 형변환 규칙에 따라 true 또는 false로 변환된다.
- 자동 형변환
  - object 는 항상 참
  - undefined, null은 항상 거짓

### 연산자

- 동등 연산자
  - 두 피연산자가 같은 값으로 평가되는지 비교 후 boolean 값을 반환
  - 비교할 때 암묵적 타입 변환을 통해 타입을 일치시킨 후 같은 값인지 비교
  - 두 피연산자가 모두 객체일 경우 메모리의 같은 객체를 바라보는지 판별
  - 예상치 못한 결과가 발생할 수 있으므로 특별한 경우를 제외하고 사용하지 않는다.

- 삼항 연산자
  - 3개의 피연산자를 사용하여 조건에 따라 값을 변환하는 연산자
  - 가장 앞의 조건식이 참이면 `:` 앞의 값이 반환되며, 그 반대일 경우 `:` 뒤의 값이 반환되는 연산자
  - 삼항 연산자의 결과 값이기 때문에 변수에 할당 가능

### 조건문

- if statement
  - 조건 표현식의 결과값을 boolean 타입으로 변환 후 참/거짓을 판단
  - 조건은 소괄호 안에 작성
  - 실행할 코드는 중괄호 안에 작성
    - 블록 스코프 생성
- switch statement
  - 조건 표현식의 결과값이 어느 값(case)에 해당하는지 판별
  - 주로 특정 변수의 값에 따라 조건을 분기할 때 활용
    - 조건이 많아질 경우 if 문보다 가독성이 나을 수 있다.
  - break 및 default문은 선택적으로 사용 가능하다.
  - break문이 없는 경우, break문을 만나거나 default 문을 실행할 때까지 다음 조건문 실행
  - 블록 스코프 생성

### 반복문

- while
  - 조건문이 참이기만 하면 문장을 계속 수행
- for
  - 특정한 조건이 거짓으로 판별될 때까지 반복
- for...in
  - 객체(object)의 속성을 순회할 때 사용
  - 배열도 순회 가능하지만 인덱스 순으로 순회한다는 보장이 없으므로 권장되지 않는다.
- for...of
  - 반복 가능한 객체를 순회할 때 사용
  - 반복 가능한(iterable) 객체의 종류: Array, Set, String 등
- for...in 과 for...of 차이
  - for...in: 속성 이름을 통해 반복
  - for...of: 속성 값을 통해 반복

- for...in, for...of와 const
  - 일반적인 for문 for (let i=0; i<arr.length; i++) { ... }의 경우, 최초 정의한 i를 재할당하면서 사용하기 때문에 const를 사용하면 에러 발생
  - 다만, for...in, for...of의 경우 재할당이 아니라, 매 반복 시 해당 변수를 새로 정의하여 사용하므로 에러가 발생하지 않는다.



## 함수

- 개요
  - 참조 타입 중 하나로써 function 타입에 속한다.
  - JavaScript에서 함수를 정의하는 방법은 주로 2가지로 구분된다.
    - 함수 선언식 (function declaration)
    - 함수 표현식 (function expression)

### 함수의 정의

- 함수 선언식 (Function declaration)

  - 일반적인 프로그래밍 언어의 함수 정의 방식

- 함수 표현식(Function expression)

  - 표현식 내에서 함수를 정의하는 방식
  - 함수 표현식은 함수의 이름을 생략한 익명함수로 정의 가능
  - 함수 이름을 명시하는 것도 가능하지만, 이 경우 함수 이름은 호출에 사용하지 못하고 디버깅 용도로 사용된다.

- 기본 인자

  - 인자 작성 시 기본 인자도 선언할 수 있다.

- 매개변수와 인자의 개수 불일치 허용

  - 매개변수보다 인자의 개수가 많아도 매개변수만큼 출력한다.
  - 매개변수보다 인자의 개수가 적으면 인자의 개수만큼 출력하고 남은 자리는 undefined 형태로 출력한다.

- Spread syntax(...)

  - 전개 구문을 사용하면 배열이나 문자열과 같이 반복 가능한 객체를 배열의 경우는 요소, 함수의 경우는 인자로 확장할 수 있다.

  1. 배열과의 사용

     ```javascript
     let parts = ['shoulders', 'knees']
     let lyrics = ['head', ...parts, 'and', 'toes']
     // ['head', 'shoulders', 'knees', 'and', 'toes']
     ```

  2. 함수와의 사용(Rest parameters)

     - The rest parameter syntax 를 사용하여 정해지지 않은 수의 매개변수를 배열로 받을 수 있다.

     ```javascript
     const rest0pr = function (arg1, arg2, ...restArgs) {
         return [arg1, arg2, restArgs]
     }
     
     restArgs(1, 2, 3, 4, 5) // [1, 2, [3, 4, 5]]
     restArgs(1, 2) // [1, 2, []]
     ```

### 선언식과 표현식

- 함수의 타입
  - 선언식 함수와 표현식 함수 모두 타입은 function으로 동일하다.
- 호이스팅 - 선언식
  - 함수 선언식으로 정의한 함수는 var로 정의한 변수처럼 호이스팅 발생
  - 즉, 함수 호출 이후에 선언해도 동작한다.
- 호이스팅 - 표현식
  - 반면, 함수 표현식으로 선언한 함수는 함수 정의 전에 호출 시 에러 발생
  - 함수 표현식으로 정의된 함수는 변수로 평가되어 변수의 scope 규칙을 따른다.

### Arrow Function

- 화살표 함수
  - 함수를 비교적 간결하게 정의할 수 있는 문법
  - function 키워드와 중괄호를 이용한 구문을 짧게 사용하기 위해 탄생
    - function 키워드 생략 가능
    - 함수의 매개변수가 하나뿐이라면 `()`도 생략 가능
      - 다만, 명확성과 일관성을 위해 항상 인자 주위에는 괄호를 포함하는 것을 권장
    - 함수의 내용이 한 줄이라면 `{}`와 `return`도 생략 가능
  - 항상 익명 함수
    - 함수 표현식에서만 사용가능하다.
- 즉시 실행 함수
  - 선언과 동시에 실행되는 함수
  - 함수의 선언 끝에 `()`를 추가하여 선언되자마자 실행하는 형태
  - `()`에 값을 넣어 인자로 넘겨줄 수 있다.
  - 즉시 실행 함수는 선언과 동시에 실행되기 때문에 같은 함수를 다시 호출할 수는 없다.
  - 이런 특징을 살려서 초기화 부분에 많이 사용된다.
  - 일회성이므로 익명함수로 사용하는 것이 일반적

### Array와 Object

- 개요
  - JavaScript의 데이터 타입 중 참조 타입(reference)에 해당하는 타입은 array와 object이며, 객체라고 말한다.
  - 객체는 속성들의 모음
    - 객체 안쪽의 속성들은 메모리에 할당되어 있고 해당 객체는 메모리의 시작 주소 값을 가리키고 있는 형태로 이루어져 있다.