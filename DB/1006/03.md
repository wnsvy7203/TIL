# 데이터 모델링 개념 및 ERD 다이어그램 그리는 법(1:N  관계)

## 데이터 모델링이란?

- 정보시스템 구축의 대상이 되는 업무 내용을 분석하여 이해하고 약속된 표기법에 의해 표현하는 것을 의미한다.
  - 이렇게 분석된 모델을 가지고 실제 데이터베이스를 생성하여 개발 및 데이터 관리에 사용되는, DB 설계의 핵심과정이기도 하다.
  - 특히 데이터를 추상화한 데이터 모델은 DB의 골격을 이해하고 그 이해를 바탕으로 SQL 문장을 기능과 성능 면에서 효율적으로 작성하기 위해 꼭 알아야 한다.



## 데이터 모델링 순서

- 업무 파악
- 개념적 데이터 모델링
- 논리적 데이터 모델링
- 물리적 데이터 모델링

### 개념적 데이터 모델링

- 하고자 하는 일의 데이터 간의 관계를 구상 - 추상화 수준이 높고 업무중심적이고 포괄적인 수준의 일을 수행한다.
- 주요 활동
  - 핵심 엔터티(Entity)와 그들 간의 관계를 발견하고, 그것을 표현하기 위해서 ERD를 생성

### 논리적 데이터 모델링

- 엔터티 중심의 상위 수준의 모델이 완성되면, 구체화된 업무 중심의 데이터 모델을 만들어내는데 이것을 논리적 데이터 모델링이라고 한다.
  - 업무에 대한 Key, 속성, 관계 등을 표시하며, 정규화 활동 수행
  - 정규화는 데이터 모델의 일관성을 확보하고 중복을 제거하여 신뢰성 있는 데이터 구조를 얻는데 목적이 있다.
- 개념적 ERD를 테이블 형태로 재구성한다.

### 물리적 데이터 모델링

- 최종적으로 데이터를 관리할 데이터베이스를 선택하고, 선택한 데이터베이스에 실제 테이블을 만드는 작업



## ERD (Entity Relationship Diagram) 그리기

- Entity 개체와 Relationship 관계를 중점적으로 표시하는 DB 구조를 한 눈에 알아보기 위해 그리는 Diagram

- 구성 요소 표기법 - Entity

  - Entity
    - 정의 가능한 사물 또는 개념
    - 사람이나, 객체 혹은 개념이나 이벤트 등을 Entity로 둘 수 있다.
    - DB를 설계할 때, 테이블이 Entity로 정의될 수 있다.

  - Entity Attribute
    - 각각의 Entity에는 속성(Attribute)을 포함하고 있다. 필드(컬럼)명을 쓰면 된다.
    - 데이터 타입을 같이 명시해야 하며, RDBMS가 지원하는 타입에 맞게 해야 한다.

- 구성요소 표기법 - 키와 제약 조건

  - PK
    - 중복이 없고 NULL 값이 없는 유일한 값에 지정하는 키
    - 보통 대부분의 ERD 다이어그램 툴에서 열쇠 표시로 나타낸다.
  - NOT NULL
    - NULL을 허용하지 않는다면, N을 적고, 허용하면 N을 적지 않는다.
  - FK(Foreign Key)
    - 표시할 때는 선을 사용하는데, 개체와 관계를 따져 표시한다.

- 구성요소 표기법 - 선 긋기

  - 두 개체의 관계 - 점선 / 실선
  - 두 관계 중 부모의 키를 PK로 받는지 안 받는지에 따라서 점선, 실선 표기가 다르게 된다.
    - 실선: 식별 관계 - 부모 자식 관계에서 자식이 부모의 키를 외래키로 참조해서 자신의 키로 설정
    - 점선: 비식별 관계 - 부모 자식 관계에서 자식이 부모의 키를 외래키로 참조해서 일반 속성으로 사용

- 구성 요소 표기법 - 선 모양

  - 두 개체의 관계 - 필수 / 선택 기호
  - `|` 표시가 있는 곳은 반드시 있어야 하는 개체
  - `O` 표시가 있다면 없어도 되는 개체



## 효율적인 모델링 작업하기

